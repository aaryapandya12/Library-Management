<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h3><i class="bi bi-bookmark-heart"></i> My Saved Books</h3>
  </div>

  <div id="saved-books-container">
  </div>

  <div id="empty-message" class="text-center py-5 text-muted">
    <i class="bi bi-bookmarks fs-1"></i>
    <h4 class="mt-3">No saved books yet</h4>
    <p>Books you save will appear here</p>
  </div>
</div>

<script>
  const container = document.getElementById("saved-books-container");
  const emptyMsg = document.getElementById("empty-message");

  function loadSavedBooks() {
    container.innerHTML = "";

    const savedStr = localStorage.getItem("savedBooks");
    const savedBooks = savedStr ? JSON.parse(savedStr) : [];

    console.log("Loaded saved books:", savedBooks); 

    if (savedBooks.length === 0) {
      emptyMsg.style.display = "block";
      container.style.display = "none";
    } else {
      emptyMsg.style.display = "none";
      container.style.display = "block";

      savedBooks.forEach((book) => {
        const card = document.createElement("div");
        card.className = "card mb-3 saved-card";

        card.innerHTML = `
          <div class="card-body">
            <h5 class="card-title">${book.title}</h5>
            <p class="card-text text-muted mb-1">by ${book.author}</p>
            <button class="btn btn-sm btn-danger mt-2" onclick="removeBook('${book.bookId}')">
              <i class="bi bi-trash"></i> Remove
            </button>
          </div>
        `;
        container.appendChild(card);
      });
    }
  } 
  window.removeBook = function (bookId) {
    const savedStr = localStorage.getItem("savedBooks");
    let savedBooks = savedStr ? JSON.parse(savedStr) : [];

    savedBooks = savedBooks.filter((book) => book.bookId != bookId);
    localStorage.setItem("savedBooks", JSON.stringify(savedBooks));

    loadSavedBooks();
  };
  loadSavedBooks();
</script>
